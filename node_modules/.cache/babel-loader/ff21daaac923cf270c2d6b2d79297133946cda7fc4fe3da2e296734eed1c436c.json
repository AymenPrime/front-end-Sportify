{"ast":null,"code":"import React,{useState}from'react';import'./register.css';import videoSource from'../assets/background-video.mp4';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterPage(_ref){let{setStatus}=_ref;const[login,setLogin]=useState(\"\");const[password,setPassword]=useState(\"\");const[passwordC,setPasswordC]=useState(\"\");const[error,setError]=useState(\"\");const[isLoading,setIsLoading]=useState(false);const navigate=useNavigate();const Handleregister=async e=>{e.preventDefault();setError(\"\");// Clear any previous errors\n// Validate inputs\nif(!login||!password||!passwordC){setError(\"All fields are required!\");return;}if(password.length<8){setError(\"Password must be at least 8 characters long!\");return;}if(password!==passwordC){setError(\"Passwords do not match!\");return;}setIsLoading(true);// Set loading state\ntry{const response=await fetch('http://127.0.0.1:8000/api/users/register',{method:\"POST\",body:JSON.stringify({login:login,password:password,re_password:passwordC}),headers:{\"Content-type\":\"application/json\",\"Accept\":\"application/json\"}});if(!response.ok){const errorData=await response.json();throw new Error(errorData.detail||\"Registration failed. Please try again.\");}// Registration successful\nnavigate('/login');// Redirect to login page\n}catch(error){setError(error.message||\"An error occurred during registration.\");console.error(\"Error during registration:\",error);}finally{setIsLoading(false);// Reset loading state\n}};return/*#__PURE__*/_jsxs(\"div\",{className:\"content-register\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"firstlayer-one\"}),/*#__PURE__*/_jsx(\"video\",{autoPlay:true,muted:true,loop:true,id:\"myVideo-register\",children:/*#__PURE__*/_jsx(\"source\",{src:videoSource,type:\"video/mp4\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"register-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"register-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"rgi-form\",onSubmit:Handleregister,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"register-title\",children:\"Register\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"register-error\",children:error}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"register-label\",children:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:login,onChange:e=>setLogin(e.target.value),id:\"username\",placeholder:\"Enter your username\",className:\"register-input\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"register-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),id:\"password\",placeholder:\"Enter your password\",className:\"register-input\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"passwordC\",className:\"register-label\",children:\"Confirm Your Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:passwordC,onChange:e=>setPasswordC(e.target.value),id:\"passwordC\",placeholder:\"Confirm Your Password\",className:\"register-input\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"register-button\",disabled:isLoading,children:isLoading?\"Registering...\":\"Register\"})]})})})]});}export default RegisterPage;","map":{"version":3,"names":["React","useState","videoSource","useNavigate","jsx","_jsx","jsxs","_jsxs","RegisterPage","_ref","setStatus","login","setLogin","password","setPassword","passwordC","setPasswordC","error","setError","isLoading","setIsLoading","navigate","Handleregister","e","preventDefault","length","response","fetch","method","body","JSON","stringify","re_password","headers","ok","errorData","json","Error","detail","message","console","className","children","autoPlay","muted","loop","id","src","type","onSubmit","htmlFor","value","onChange","target","placeholder","required","disabled"],"sources":["/goinfre/aait-our/front-end-Sportify/src/register.js/register.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './register.css';\nimport videoSource from '../assets/background-video.mp4';\nimport { useNavigate } from 'react-router-dom';\n\nfunction RegisterPage({ setStatus }) {\n  const [login, setLogin] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordC, setPasswordC] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  \n  const navigate = useNavigate();\n\n  const Handleregister = async (e) => {\n    e.preventDefault();\n    setError(\"\"); // Clear any previous errors\n\n    // Validate inputs\n    if (!login || !password || !passwordC) {\n      setError(\"All fields are required!\");\n      return;\n    }\n\n    if (password.length < 8) {\n      setError(\"Password must be at least 8 characters long!\");\n      return;\n    }\n\n    if (password !== passwordC) {\n      setError(\"Passwords do not match!\");\n      return;\n    }\n\n    setIsLoading(true); // Set loading state\n\n    try {\n      const response = await fetch('http://127.0.0.1:8000/api/users/register', {\n        method: \"POST\",\n        body: JSON.stringify({\n          login: login,\n          password: password,\n          re_password: passwordC,\n        }),\n        headers: {\n          \"Content-type\": \"application/json\",\n          \"Accept\": \"application/json\",\n        },\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.detail || \"Registration failed. Please try again.\");\n      }\n\n      // Registration successful\n      navigate('/login'); // Redirect to login page\n    } catch (error) {\n      setError(error.message || \"An error occurred during registration.\");\n      console.error(\"Error during registration:\", error);\n    } finally {\n      setIsLoading(false); // Reset loading state\n    }\n  };\n\n  return (\n    <div className='content-register'>\n      <div className='firstlayer-one'></div>\n      <video autoPlay muted loop id=\"myVideo-register\">\n        <source src={videoSource} type=\"video/mp4\" />\n      </video>\n      <div className='register-page'>\n        <div className=\"register-container\">\n          <form className=\"rgi-form\" onSubmit={Handleregister}>\n            <h1 className=\"register-title\">Register</h1>\n\n            {error && <div className=\"register-error\">{error}</div>}\n\n            <label htmlFor=\"username\" className=\"register-label\">Login</label>\n            <input\n              type=\"text\"\n              value={login}\n              onChange={(e) => setLogin(e.target.value)}\n              id=\"username\"\n              placeholder=\"Enter your username\"\n              className=\"register-input\"\n              required\n            />\n\n            <label htmlFor=\"password\" className=\"register-label\">Password</label>\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              id=\"password\"\n              placeholder=\"Enter your password\"\n              className=\"register-input\"\n              required\n            />\n            \n            <label htmlFor=\"passwordC\" className=\"register-label\">Confirm Your Password</label>\n            <input\n              type=\"password\"\n              value={passwordC}\n              onChange={(e) => setPasswordC(e.target.value)}\n              id=\"passwordC\"\n              placeholder=\"Confirm Your Password\"\n              className=\"register-input\"\n              required\n            />\n            \n            <button type=\"submit\" className=\"register-button\" disabled={isLoading}>\n              {isLoading ? \"Registering...\" : \"Register\"}\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default RegisterPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}